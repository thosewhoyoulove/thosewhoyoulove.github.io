# å­—å…¸æ ‘ï¼ˆTrieï¼Œä¹Ÿå«å‰ç¼€æ ‘ï¼‰æ˜¯ä¸€ç§æ ‘å½¢ç»“æ„ï¼Œå¸¸ç”¨äºé«˜æ•ˆåœ°å¤„ç†å’Œå­˜å‚¨ å­—ç¬¦ä¸²é›†åˆï¼Œç‰¹åˆ«é€‚åˆ

- å¿«é€ŸæŸ¥æ‰¾æŸä¸ªå­—ç¬¦ä¸²æ˜¯å¦å­˜åœ¨
- æŸ¥æ‰¾æ˜¯å¦æœ‰æŸä¸ªå‰ç¼€å¼€å¤´çš„å•è¯
- å®ç°è‡ªåŠ¨è¡¥å…¨ã€æ‹¼å†™æ£€æŸ¥ç­‰åŠŸèƒ½

## ğŸ§  ç®€å•ç†è§£

ä½ å¯ä»¥æŠŠ å­—å…¸æ ‘ æƒ³è±¡æˆä¸€æ£µâ€œæŒ‰å­—æ¯ä¸€å±‚ä¸€å±‚å±•å¼€â€çš„æ ‘ï¼š

- æ¯ä¸ªèŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦

- ä»æ ¹èŠ‚ç‚¹åˆ°æŸä¸ªèŠ‚ç‚¹çš„è·¯å¾„ç»„æˆä¸€ä¸ªå­—ç¬¦ä¸²å‰ç¼€

- å®Œæ•´çš„å•è¯ä¼šåœ¨ç»“å°¾èŠ‚ç‚¹ä¸Šåšä¸ªæ ‡è®°ï¼šâœ… â€œè¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„å•è¯â€

## ğŸŒ³ ä¸¾ä¸ªä¾‹å­ï¼šæ’å…¥å­—ç¬¦ä¸² ["cat", "car", "dog"]

æ’å…¥è¿‡ç¨‹ï¼š

```css
æ ¹
â”œâ”€â”€ c
â”‚   â””â”€â”€ a
â”‚       â”œâ”€â”€ t âœ…
â”‚       â””â”€â”€ r âœ…
â””â”€â”€ d
    â””â”€â”€ o
        â””â”€â”€ g âœ…
```

- ä¸‰ä¸ªè¯éƒ½ä¼šè¢«æ‹†å¼€å­—æ¯ä¸€å±‚ä¸€å±‚æ’è¿›å»

- å…¬å…±å‰ç¼€ "ca" åªå­˜ä¸€ä»½ï¼ŒèŠ‚çœç©ºé—´

- âœ… è¡¨ç¤ºè¯¥è·¯å¾„ç»„æˆçš„æ˜¯ä¸€ä¸ªå®Œæ•´å•è¯

## âœ… å­—å…¸æ ‘çš„ç‰¹ç‚¹

ç‰¹æ€§ | è¯´æ˜
--- | ---
æŸ¥æ‰¾æ•ˆç‡é«˜ | æŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦æ˜¯ O(k)ï¼Œk æ˜¯å­—ç¬¦ä¸²é•¿åº¦ï¼Œä¸å—å­—ç¬¦ä¸²æ•°é‡å½±å“
æ”¯æŒå‰ç¼€æŸ¥è¯¢ | å¯ä»¥å¿«é€Ÿåˆ¤æ–­æ˜¯å¦æœ‰ä»¥æŸä¸ªå‰ç¼€å¼€å¤´çš„å•è¯
èŠ‚çœç©ºé—´ | å…±ç”¨å‰ç¼€ï¼Œé¿å…é‡å¤å­˜å‚¨

## ğŸ’» å¸¸ç”¨æ–¹æ³•

- insert(word) æ’å…¥å•è¯

- search(word) æŸ¥æ‰¾å•è¯æ˜¯å¦å­˜åœ¨

- startsWith(prefix) åˆ¤æ–­æ˜¯å¦å­˜åœ¨æŸä¸ªå‰ç¼€

## âœ¨ åº”ç”¨åœºæ™¯

- æœç´¢æç¤º / è‡ªåŠ¨è¡¥å…¨ï¼ˆå¦‚è¾“å…¥"he" -> è‡ªåŠ¨æç¤º"hello", "hey"ï¼‰

- æ‹¼å†™æ£€æŸ¥ï¼ˆæ˜¯å¦æ‹¼é”™å•è¯ï¼‰

- æ–‡æœ¬å‹ç¼©ã€è¯é¢‘ç»Ÿè®¡ã€æ•æ„Ÿè¯è¿‡æ»¤ç­‰

## ğŸ“š å­—å…¸æ ‘çš„å®ç°

```js
class TrieNode {
  constructor() {
    this.children = {};   // å­èŠ‚ç‚¹æ˜ å°„ï¼šé”®æ˜¯å­—ç¬¦ï¼Œå€¼æ˜¯ TrieNode
    this.isEnd = false;   // æ ‡è®°æ˜¯å¦æ˜¯å•è¯ç»“å°¾
  }
}

class Trie {
  constructor() {
    this.root = new TrieNode();
  }

  // æ’å…¥å•è¯
  insert(word) {
    let node = this.root;
    for (const char of word) {
      if (!node.children[char]) {
        node.children[char] = new TrieNode(); // åˆ›å»ºæ–°èŠ‚ç‚¹
      }
      node = node.children[char];
    }
    node.isEnd = true; // å•è¯ç»“æŸæ ‡è®°
  }

  // æŸ¥æ‰¾å®Œæ•´å•è¯
  search(word) {
    let node = this._searchNode(word);
    return node !== null && node.isEnd === true;
  }

  // æŸ¥æ‰¾æ˜¯å¦æœ‰è¿™ä¸ªå‰ç¼€
  startsWith(prefix) {
    return this._searchNode(prefix) !== null;
  }

  // ç§æœ‰æ–¹æ³•ï¼šèµ°å®Œæ•´ä¸ªå•è¯/å‰ç¼€è·¯å¾„
  _searchNode(word) {
    let node = this.root;
    for (const char of word) {
      if (!node.children[char]) return null;
      node = node.children[char];
    }
    return node;
  }
}

```

## âœ… ä½¿ç”¨ç¤ºä¾‹

```js
const trie = new Trie();
trie.insert("cat");
trie.insert("car");
trie.insert("dog");

console.log(trie.search("cat"));      // true
console.log(trie.search("cab"));      // false
console.log(trie.startsWith("ca"));   // true
console.log(trie.startsWith("do"));   // true
console.log(trie.startsWith("du"));   // false

```
