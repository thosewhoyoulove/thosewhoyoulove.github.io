# SVG 与 Canvas 渲染方式对比

## SVG 和 Canvas 的区别

SVG 和 Canvas 是两种不同的图形渲染技术:

### SVG

- 基于矢量图形
- 使用 XML 描述图形
- 每个图形元素都是 DOM 的一部分

### Canvas

- 通过 JavaScript API 绘制位图
- 像素级别的渲染
- 单一画布元素

## ECharts 支持双渲染的原因

ECharts 同时支持这两种渲染方式,主要考虑以下场景:

### Canvas 适用场景

- 大量数据点的渲染
- 频繁更新的图表
- 复杂图形绘制

### SVG 适用场景  

- 需要复杂交互
- 元素需要单独控制
- 动态缩放要求高

## 对比表格

| 特性 | SVG 渲染 | Canvas 渲染 |
| --- | --- | --- |
| 图形类型 | 矢量图形（基于 XML 节点树） | 位图（像素级绘制） |
| 渲染性能 | 节点较多时性能下降（万级元素卡顿） | 大数据量性能更优（10万+数据点流畅） |
| 内存占用 | 高（每个图形元素独立 DOM 节点） | 低（单画布共享内存） |
| 交互能力 | 原生支持元素级事件（如点击某条形） | 需手动计算坐标（依赖 ECharts 事件代理） |
| 动态更新 | 局部更新效率低（需操作 DOM 树） | 全量重绘效率高（适合高频更新场景） |
| 缩放保真 | 无损缩放（矢量特性） | 缩放会模糊（需手动处理分辨率） |
| 适用场景 | 中小数据量、高交互需求（如编辑器类应用） | 大数据量、动态可视化（如实时监控仪表盘） |

选择建议：

- 默认使用 Canvas（ECharts 5+ 默认渲染器）
- 以下情况选择 SVG：
  - 需要导出矢量文件（PDF/SVG 格式）
  - 图表元素需单独绑定复杂事件
  - 对 Retina 屏幕有高清晰度要求
